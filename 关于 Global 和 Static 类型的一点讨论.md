## 关于 Global 和 Static 类型的一点讨论

\1. **static 全局变量** **与** **普通的全局变量** **有什么区别 ?**

全局变量(外部变量)的定义前面再加上 static 就构成了静态的全局变量。
全局变量本身就是静态存储方式， 静态全局变量当然也是静态存储方式。 这两者在存储方式上并无不同。
这两者的区别在于非静态全局变量的作用域是整个源程序， **当一个源程序由多个源文件组成时，非静态的全局变量在各个源文件中都是有效的。** 而**静态全局变量则限制了其作用域， 即只在定义该变量的源文件内有效**， 在同一源程序的其它源文件中不能使用它。
由于静态全局变量的作用域局限于一个源文件内，只能为该源文件内的函数公用，因此可以避免在其它源文件中引起错误。
static 全局变量只初使化一次，防止在其他文件单元中被引用。

**2.** **static 局部变量** **和** **普通局部变量** **有什么区别 ？**

把局部变量改变为静态变量后是改变了它的存储方式，即改变了它的生存期。把全局变量改变为静态变量后是改变了它的作用域，限制了它的使用范围。       
static 局部变量只被初始化一次，下一次依据上一次结果值。

**3.** **static 函数** **与** **普通函数** **有什么区别？**

static 函数 与 普通函数 作用域不同：

- **static函数** **仅在本文件有效**，只在当前源文件中使用的函数应该说明为**内部函数(static)**，内部函数应该在当前源文件中说明和定义。
- **普通函数** 可在当前源文件以外使用。应该在一个头文件中说明，要使用这些函数的源文件要包含这个头文件。
- **static 函数** 在内存中只有一份（.data），**普通函数** 在每个被调用中维持一份拷贝。

 